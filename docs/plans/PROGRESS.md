# KingSick ê°œë°œ ì§„í–‰ ìƒí™©

> **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-01-10
> **í˜„ì¬ Phase**: Phase 3 ì§„í–‰ì¤‘ (Watchlist)
> **ë‹´ë‹¹ì**: ì¥ë¹„ ì´ë™ ì‹œì—ë„ ì´ ë¬¸ì„œë¥¼ í†µí•´ ì‘ì—… ìƒíƒœ ì¶”ì 

---

## ì „ì²´ Phase ì§„í–‰ í˜„í™©

| Phase | ìƒíƒœ | ì„¤ëª… | ì™„ë£Œì¼ |
|-------|------|------|--------|
| Phase 1 | âœ… ì™„ë£Œ | í•µì‹¬ ìë™ë§¤ë§¤ | 2026-01-09 |
| Phase 2 | âœ… ì™„ë£Œ | ëª¨ë‹ˆí„°ë§ (ì‚¬ìš©ì ì¸ì¦, ëŒ€ì‹œë³´ë“œ) | 2026-01-09 |
| Phase 3 | ğŸ”„ ì§„í–‰ì¤‘ | í™•ì¥ (ì¢…ëª© ê´€ë¦¬, ë©”ì‹ ì € ì•Œë¦¼) | - |
| Phase 4 | â³ ëŒ€ê¸° | ê³ ë„í™” (ë°±í…ŒìŠ¤íŒ…, AI ë¶„ì„) | - |

---

## Phase 1: í•µì‹¬ ìë™ë§¤ë§¤ âœ…

### ì™„ë£Œëœ Task

| # | Task | ìƒíƒœ | í…ŒìŠ¤íŠ¸ | ë¹„ê³  |
|---|------|------|--------|------|
| 1 | Backend ì´ˆê¸° ì„¤ì • (FastAPI + SQLAlchemy) | âœ… ì™„ë£Œ | 20 tests, 94% | - |
| 2 | Frontend ì´ˆê¸° ì„¤ì • (Next.js 14 + shadcn/ui) | âœ… ì™„ë£Œ | 28 tests | - |
| 3 | Docker í™˜ê²½ ì„¤ì • | âœ… ì™„ë£Œ | Build OK | - |
| 4 | ê¸°ìˆ ì  ì§€í‘œ ì—”ì§„ (indicator.py) | âœ… ì™„ë£Œ | 47 tests, 96% | SMA, EMA, RSI, MACD, ë³¼ë¦°ì €ë°´ë“œ |
| 5 | ë¦¬ìŠ¤í¬ ê´€ë¦¬ì (risk_manager.py) | âœ… ì™„ë£Œ | 43 tests, 100% | ì†ì ˆ/ìµì ˆ/íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ |
| 6 | AI ì‹ í˜¸ ìƒì„±ê¸° (signal_generator.py + bnf_strategy.py) | âœ… ì™„ë£Œ | 48 tests, 92% | BNF ì „ëµ |
| 7 | KIS API í´ë¼ì´ì–¸íŠ¸ (kis_api.py) | âœ… ì™„ë£Œ | 27 tests, 89% | í•œêµ­íˆ¬ìì¦ê¶Œ API |
| 8 | íŠ¸ë ˆì´ë”© ì—”ì§„ (trading_engine.py) | âœ… ì™„ë£Œ | 43 tests, 94% | AUTO/ALERT ëª¨ë“œ |
| 9 | API ë¼ìš°í„° êµ¬í˜„ | âœ… ì™„ë£Œ | 38 tests | 23ê°œ ì—”ë“œí¬ì¸íŠ¸ |
| 10 | Frontend API í´ë¼ì´ì–¸íŠ¸ | âœ… ì™„ë£Œ | 60 tests | lib/api/ ëª¨ë“ˆ |
| 11 | Frontend â†” Backend ì—°ë™ | âœ… ì™„ë£Œ | ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ | Dashboard ì‹¤ì‹œê°„ ë°ì´í„° |

### Phase 1 ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ëª¨ë“  ì„œë¹„ìŠ¤ê°€ API ì—”ë“œí¬ì¸íŠ¸ë¡œ ë…¸ì¶œ
- [x] curlë¡œ ì‹¤ì œ API í˜¸ì¶œ ê°€ëŠ¥
- [x] Frontendì—ì„œ Backend API í˜¸ì¶œ ë™ì‘
- [x] ë¸Œë¼ìš°ì € ì§ì ‘ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [x] E2E ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰

### API ì—”ë“œí¬ì¸íŠ¸ (23ê°œ)

```
/api/v1/indicators/sma, ema, rsi, macd, bollinger-bands, volume-spike, golden-cross, death-cross
/api/v1/signals/generate
/api/v1/trading/status, mode, alerts, alerts/approve, alerts/reject, risk/check, risk/position-size, risk/can-open
/api/v1/positions/, balance, price/{code}, daily-prices/{code}
```

---

## Phase 2: ëª¨ë‹ˆí„°ë§ âœ…

> **ì„¤ê³„ ë¬¸ì„œ**: `docs/plans/2026-01-09-phase2-auth-design.md`

### Task ëª©ë¡ - ì¸ì¦ ì‹œìŠ¤í…œ (ì™„ë£Œ)

| # | Task | ìƒíƒœ | ì„¤ëª… |
|---|------|------|------|
| 2-1 | Backend ëª¨ë¸ ìƒì„± | âœ… ì™„ë£Œ | User, Invitation, UserApiKey + Alembic ì„¤ì • |
| 2-2 | ì•”í˜¸í™” ìœ í‹¸ë¦¬í‹° | âœ… ì™„ë£Œ | AES-256-GCM encrypt/decrypt (13 tests) |
| 2-3 | ì¸ì¦ ì„œë¹„ìŠ¤ | âœ… ì™„ë£Œ | JWT ë°œê¸‰/ê²€ì¦, ë¹„ë°€ë²ˆí˜¸ í•´ì‹± (17 tests) |
| 2-4 | Auth API ë¼ìš°í„° | âœ… ì™„ë£Œ | register, login, refresh, logout (14 tests) |
| 2-5 | ê¸°íƒ€ ë¼ìš°í„° | âœ… ì™„ë£Œ | users, invitations, api-keys |
| 2-6 | Frontend AuthContext | âœ… ì™„ë£Œ | ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬, useAuth í›… |
| 2-7 | ë¡œê·¸ì¸/íšŒì›ê°€ì… í˜ì´ì§€ | âœ… ì™„ë£Œ | API ì—°ë™ + Suspense ì ìš© |
| 2-8 | ProtectedRoute ì»´í¬ë„ŒíŠ¸ | âœ… ì™„ë£Œ | ë¯¸ì¸ì¦ ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸, Admin ì§€ì› |
| 2-9 | Settings - API í‚¤ ê´€ë¦¬ | âœ… ì™„ë£Œ | KIS API í‚¤ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ/ê²€ì¦ UI |
| 2-10 | Admin ì´ˆëŒ€ ê´€ë¦¬ í˜ì´ì§€ | âœ… ì™„ë£Œ | ì´ˆëŒ€ ë§í¬ ìƒì„±/ì‚­ì œ/ë³µì‚¬ ê¸°ëŠ¥ |

### Task ëª©ë¡ - UI/ì°¨íŠ¸ (ì¸ì¦ ì™„ë£Œ í›„)

| # | Task | ìƒíƒœ | ì„¤ëª… |
|---|------|------|------|
| 2-11 | ëŒ€ì‹œë³´ë“œ ì°¨íŠ¸ êµ¬í˜„ | âœ… ì™„ë£Œ | Lightweight Charts, StockChart + PortfolioChart |
| 2-12 | ë³´ìœ  ì¢…ëª© í˜„í™© UI | âœ… ì™„ë£Œ | Portfolio í˜ì´ì§€ API ì—°ë™ + KIS API fallback |
| 2-13 | ë§¤ë§¤ ë‚´ì—­ í‘œì‹œ | âœ… ì™„ë£Œ | History í˜ì´ì§€ API ì—°ë™ + AI íŒë‹¨ ê·¼ê±° íˆ´íŒ |
| 2-14 | Settings í˜ì´ì§€ ì™„ì„± | âœ… ì™„ë£Œ | Trading Mode ë³€ê²½ + Risk Settings API ì—°ë™ |

### Task ëª©ë¡ - ë¡œê·¸ì•„ì›ƒ UI (ë°±ë¡œê·¸ ì™„ë£Œ)

| # | Task | ìƒíƒœ | ì„¤ëª… |
|---|------|------|------|
| 2-11 | ë¡œê·¸ì•„ì›ƒ UI ë° ê¸°ëŠ¥ ì—°ê²° | âœ… ì™„ë£Œ | Header User Menu ë“œë¡­ë‹¤ìš´, Logout ë²„íŠ¼ |

### ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ - ì¸ì¦ ì‹œìŠ¤í…œ

- [x] ëª¨ë“  ì„œë¹„ìŠ¤ê°€ API ì—”ë“œí¬ì¸íŠ¸ë¡œ ë…¸ì¶œ (auth, users, invitations, api-keys)
- [x] curlë¡œ ì‹¤ì œ API í˜¸ì¶œ ê°€ëŠ¥
- [x] Frontendì—ì„œ Backend API í˜¸ì¶œ ë™ì‘
- [x] ë¸Œë¼ìš°ì € ì§ì ‘ í…ŒìŠ¤íŠ¸ ì™„ë£Œ (ë¹Œë“œ ì„±ê³µ)
- [x] E2E ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ (ë¡œê·¸ì¸/íšŒì›ê°€ì…/ì´ˆëŒ€/APIí‚¤/ë¡œê·¸ì•„ì›ƒ)

---

## Phase 3: í™•ì¥ ğŸ”„

> **ì„¤ê³„ ë¬¸ì„œ**:
> - Watchlist: `docs/plans/2026-01-10-phase3-watchlist-design.md`
> - Telegram: `docs/plans/2026-01-10-phase3-telegram-design.md`

### ì „ì²´ Task ëª©ë¡

| # | Task | ìƒíƒœ | ìš°ì„ ìˆœìœ„ |
|---|------|------|----------|
| 3-1 | ì¢…ëª© ì§ì ‘ ì§€ì • (Watchlist) | âœ… ì™„ë£Œ | P1 |
| 3-2 | AI ìë™ ìŠ¤ìº” (ì˜µì…˜) | â³ ëŒ€ê¸° | P3 |
| 3-3 | Telegram Bot ì—°ë™ | âœ… ì™„ë£Œ | P1 |
| 3-4 | Slack Webhook ì—°ë™ | â³ ëŒ€ê¸° | P2 |
| 3-5 | ì•Œë¦¼ ìŠ¹ì¸ â†’ ì£¼ë¬¸ ì‹¤í–‰ ì—°ê²° | â³ ëŒ€ê¸° | P1 |

### Task 3-1: Watchlist ìƒì„¸ âœ…

| # | Task | ìƒíƒœ | ì„¤ëª… |
|---|------|------|------|
| 3-1-1 | WatchlistItem ëª¨ë¸ | âœ… ì™„ë£Œ | DB ëª¨ë¸ + Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ |
| 3-1-2 | Watchlist Repository | âœ… ì™„ë£Œ | CRUD ë ˆí¬ì§€í† ë¦¬ |
| 3-1-3 | Watchlist Service | âœ… ì™„ë£Œ | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ |
| 3-1-4 | Watchlist API ë¼ìš°í„° | âœ… ì™„ë£Œ | 6ê°œ ì—”ë“œí¬ì¸íŠ¸ |
| 3-1-5 | ì¢…ëª© ê²€ìƒ‰ API | âœ… ì™„ë£Œ | KIS API ì—°ë™ (Mock) |
| 3-1-6 | Frontend API í´ë¼ì´ì–¸íŠ¸ | âœ… ì™„ë£Œ | lib/api/watchlist.ts, stocks.ts |
| 3-1-7 | Watchlist í˜ì´ì§€ | âœ… ì™„ë£Œ | app/watchlist/page.tsx |
| 3-1-8 | ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ | âœ… ì™„ë£Œ | ëª¨ë‹¬, í…Œì´ë¸”, ê²€ìƒ‰ (4ê°œ ì»´í¬ë„ŒíŠ¸) |
| 3-1-9 | Trading Engine ì—°ë™ | âœ… ì™„ë£Œ | /trading/targets, /trading/settings API |
| 3-1-10 | E2E í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ | í†µí•©/ìœ ë‹› í…ŒìŠ¤íŠ¸ ì‘ì„± |

### ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ - Watchlist

- [x] WatchlistItem ëª¨ë¸ ìƒì„± ë° ë§ˆì´ê·¸ë ˆì´ì…˜
- [x] Watchlist CRUD API ë™ì‘ (curl í…ŒìŠ¤íŠ¸)
- [x] ì¢…ëª© ê²€ìƒ‰ API ë™ì‘
- [x] Frontend Watchlist í˜ì´ì§€ ë Œë”ë§
- [x] ì¢…ëª© ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ ë™ì‘
- [x] í™œì„±í™”/ë¹„í™œì„±í™” í† ê¸€ ë™ì‘
- [x] Trading Engineì—ì„œ Watchlist ì¢…ëª© ì¡°íšŒ
- [x] E2E ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ ì™„ë£Œ

### Task 3-3: Telegram Bot ì—°ë™ âœ…

| # | Task | ìƒíƒœ | ì„¤ëª… |
|---|------|------|------|
| 3-3-1 | ì˜ì¡´ì„± ì¶”ê°€ | âœ… ì™„ë£Œ | python-telegram-bot ì„¤ì¹˜ |
| 3-3-2 | User ëª¨ë¸ í™•ì¥ | âœ… ì™„ë£Œ | telegram_chat_id í•„ë“œ + ë§ˆì´ê·¸ë ˆì´ì…˜ |
| 3-3-3 | TelegramLinkToken ëª¨ë¸ | âœ… ì™„ë£Œ | Deep Link í† í° ëª¨ë¸ |
| 3-3-4 | TelegramService | âœ… ì™„ë£Œ | ë©”ì‹œì§€ ì „ì†¡, ì½œë°± ì²˜ë¦¬ |
| 3-3-5 | Telegram API ë¼ìš°í„° | âœ… ì™„ë£Œ | webhook, link, status |
| 3-3-6 | TradingEngine ì—°ë™ | âœ… ì™„ë£Œ | ì•Œë¦¼ ì‹œ Telegram ì „ì†¡ |
| 3-3-7 | Frontend Settings UI | âœ… ì™„ë£Œ | Telegram ì—°ë™ ë²„íŠ¼ |
| 3-3-8 | í…ŒìŠ¤íŠ¸ ì‘ì„± | âœ… ì™„ë£Œ | ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸ (39 backend + 16 frontend) |

### ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ - Telegram Bot

- [x] TelegramService ë©”ì‹œì§€ ì „ì†¡/ì½œë°± ì²˜ë¦¬ êµ¬í˜„
- [x] Telegram API ë¼ìš°í„° (status, link, unlink, webhook)
- [x] TelegramLinkToken ëª¨ë¸ ë° Deep Link ì—°ë™ íë¦„
- [x] TradingEngineì—ì„œ Telegram ì•Œë¦¼ ì „ì†¡ ì—°ë™
- [x] Frontend TelegramSettings ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [x] Backend í…ŒìŠ¤íŠ¸ 39ê°œ í†µê³¼
- [x] Frontend í…ŒìŠ¤íŠ¸ 16ê°œ í†µê³¼
- [x] ë¸Œë¼ìš°ì € E2E í…ŒìŠ¤íŠ¸ ì™„ë£Œ (401â†’200 ì¸ì¦ ìˆ˜ì •)

---

## Phase 4: ê³ ë„í™” â³

### Task ëª©ë¡

| # | Task | ìƒíƒœ | ìš°ì„ ìˆœìœ„ | ë¹„ê³  |
|---|------|------|----------|------|
| 1 | ê³¼ê±° ë°ì´í„° ìˆ˜ì§‘ ë° ì €ì¥ | â³ ëŒ€ê¸° | P1 | TimescaleDB |
| 2 | ì „ëµ ì‹œë®¬ë ˆì´ì…˜ ì—”ì§„ | â³ ëŒ€ê¸° | P1 | - |
| 3 | ê²°ê³¼ ë¦¬í¬íŠ¸ (ìˆ˜ìµë¥ , MDD, ìƒ¤í”„ë¹„ìœ¨) | â³ ëŒ€ê¸° | P2 | - |
| 4 | ì‹œì¥ ìƒíƒœ ë¶„ì„ í˜ì´ì§€ | â³ ëŒ€ê¸° | P2 | - |
| 5 | AI ì¶”ì²œ ì¢…ëª© | â³ ëŒ€ê¸° | P3 | - |
| 6 | ì‹ í˜¸ ê°•ë„ ì‹œê°í™” | â³ ëŒ€ê¸° | P2 | - |

---

## ì‘ì—… ì¬ê°œ ê°€ì´ë“œ

### ìƒˆ ì¥ë¹„ì—ì„œ ì‘ì—… ì¬ê°œ ì‹œ

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone <repo-url>
cd kingsick-mk4

# 2. ì´ ë¬¸ì„œ í™•ì¸
cat docs/plans/PROGRESS.md

# 3. í˜„ì¬ Phaseì˜ ë‹¤ìŒ Task í™•ì¸ í›„ ì§„í–‰
```

### ìƒíƒœ ì½”ë“œ

| ìƒíƒœ | ì˜ë¯¸ |
|------|------|
| âœ… ì™„ë£Œ | êµ¬í˜„, í…ŒìŠ¤íŠ¸, ê²€ì¦ ëª¨ë‘ ì™„ë£Œ |
| ğŸ”„ ì§„í–‰ì¤‘ | í˜„ì¬ ì‘ì—… ì¤‘ |
| â³ ëŒ€ê¸° | ì•„ì§ ì‹œì‘ ì•ˆí•¨ |
| âš ï¸ ë¸”ë¡œí‚¹ | ë‹¤ë¥¸ ì‘ì—… ì™„ë£Œ í•„ìš” |
| âŒ ì·¨ì†Œ | ê³„íš ë³€ê²½ìœ¼ë¡œ ì·¨ì†Œë¨ |

---

## ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë³€ê²½ ë‚´ìš© |
|------|----------|
| 2026-01-10 | Task 3-3 ì™„ë£Œ - Telegram Bot ì—°ë™ êµ¬í˜„ (Backend + Frontend + í…ŒìŠ¤íŠ¸) |
| 2026-01-10 | Task 3-3 ì„¤ê³„ ì™„ë£Œ - Telegram Bot ì—°ë™ ì„¤ê³„ ë¬¸ì„œ ì‘ì„± |
| 2026-01-10 | Task 3-1 ì™„ë£Œ - Watchlist ê¸°ëŠ¥ êµ¬í˜„ (ëª¨ë¸, ì„œë¹„ìŠ¤, API, Frontend, Trading Engine ì—°ë™) |
| 2026-01-10 | Phase 3 ì‹œì‘ - Watchlist ì„¤ê³„ ì™„ë£Œ, Task 3-1 ì§„í–‰ì¤‘ |
| 2026-01-10 | Phase 2 ì™„ë£Œ |
| 2026-01-09 | Phase 2 Task 2-12, 2-13 ì™„ë£Œ (Portfolio + History í˜ì´ì§€ API ì—°ë™) |
| 2026-01-09 | Phase 2 Task 2-14 ì™„ë£Œ (Settings - Trading Mode + Risk Settings API ì—°ë™) |
| 2026-01-09 | Phase 2 Task 2-11 ì™„ë£Œ (ëŒ€ì‹œë³´ë“œ ì°¨íŠ¸ - Lightweight Charts) |
| 2026-01-09 | Phase 2 ì¸ì¦ ì‹œìŠ¤í…œ ì™„ë£Œ (Task 2-1 ~ 2-10) |
| 2026-01-09 | Phase 2 ì‹œì‘ - ì¸ì¦ ì‹œìŠ¤í…œ ì„¤ê³„ ì™„ë£Œ |
| 2026-01-09 | Phase 1 ì™„ë£Œ (API ë¼ìš°í„° + Frontend ì—°ë™) |
| 2026-01-08 | Phase 1 ì„œë¹„ìŠ¤ ë ˆì´ì–´ êµ¬í˜„ ì™„ë£Œ |
| 2026-01-07 | í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • |
